---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Navigation from "../../components/navigation.astro";
import ContactMe from "../../components/contactme.astro";
import { getEntry } from "astro:content";

const project = await getEntry("projects", "workshop");
if (!project) {
    throw new Error("Project not found");
}
const { Content } = await project.render();
---

<BaseLayout pageTitle="Survival Workshop - Carolina Lima">
    <Navigation />
    <a href="/#works" class="back-button">
        <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M15 10H5M5 10L10 15M5 10L10 5"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"></path>
        </svg>
        Back
    </a>
    <div class="project-page">
        <!-- Use title from markdown -->
        <h1 class="project-title">{project.data.title}</h1>

        <div class="hero-section">
            <!-- Use image from markdown -->
            <img
                src={project.data.image || "/placeholder.svg"}
                alt={`${project.data.title} Project Hero`}
                class="hero-image"
            />
            <a
                href="https://www.figma.com/proto/RVMpxDcKm9kvXK1x8l53HA/1DEV_CarolinaLuca_RESULT?page-id=0%3A1&node-id=2373-7028&viewport=369%2C337%2C0.05&t=zqxg6lpvlgNRDZGH-1&scaling=min-zoom&content-scaling=fixed&starting-point-node-id=14%3A125&show-proto-sidebar=1"
                target="_blank"
                rel="noopener noreferrer"
                class="visit-link"
            >
                Visit the website
                <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M5 15L15 5M15 5H5M15 5V15"
                        stroke="currentColor"
                        stroke-width="2"></path>
                </svg>
            </a>
        </div>

        <div class="separator"></div>

        <div class="project-details">
            <div class="detail-row">
                <div class="detail-column">
                    <p class="detail-label">Challenge:</p>
                    <!-- Use label from markdown -->
                    <p class="detail-value">{project.data.label}</p>
                </div>
                <div class="detail-column">
                    <p class="detail-label">Service:</p>
                    <p class="detail-value">Creative design</p>
                </div>
            </div>
            <div class="detail-row">
                <div class="detail-column">
                    <p class="detail-label">Software:</p>
                    <p class="detail-value">Figma / AI</p>
                </div>
                <div class="detail-column">
                    <p class="detail-label">Year:</p>
                    <p class="detail-value">2025</p>
                </div>
            </div>
        </div>

        <!-- Use markdown content for overview -->
        <div class="overview-section markdown-content">
            <Content />
        </div>

        <div class="design-overview-section">
            <h2 class="design-heading">DESIGN OVERVIEW</h2>
            <div class="design-grid">
                <img src="/img/workshop-page1.png" alt="Workshop Design 1" />
                <img src="/img/workshop-page2.png" alt="Workshop Design 2" />
                <img src="/img/workshop-page3.png" alt="Workshop Design 3" />
                <img src="/img/workshop-page4.png" alt="Workshop Design 4" />
            </div>
        </div>

        <div class="separator"></div>

        <div class="more-works-section">
            <h2 class="more-heading">MORE WORKS</h2>
            <div class="more-works-grid">
                <a href="/projects/thrive" class="more-work-item">
                    <img src="/img/thrive.png" alt="Thrive" />
                </a>
                <a href="/projects/underwhere" class="more-work-item">
                    <img src="/img/underwhere.png" alt="The Underwhere" />
                </a>
            </div>
        </div>
    </div>
    <ContactMe />
</BaseLayout>

<style>
    .back-button {
        position: absolute;
        top: 80px;
        left: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: "Space Grotesk", sans-serif;
        font-size: 16px;
        font-weight: 500;
        color: #000;
        text-decoration: none;
        background: transparent;
        padding: 10px 16px;
        border-radius: 24px;
        border: none;
        transition: all 0.3s ease;
        z-index: 100;
    }

    .back-button:hover {
        opacity: 0.7;
    }

    .project-page {
        background: #fff;
        color: #000;
        padding: 0;
        max-width: 100%;
    }

    .project-title {
        font-family: "Space Grotesk", sans-serif;
        font-size: 48px;
        font-weight: 700;
        margin: 0 0 40px 0;
        text-align: center;
        letter-spacing: 1px;
        padding: 80px 20px 0 20px;
    }

    .hero-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
        margin-bottom: 40px;
        padding: 0 20px;
    }

    .hero-image {
        width: 100%;
        max-width: 600px;
        height: auto;
        border-radius: 8px;
    }

    .visit-link {
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: "Space Grotesk", sans-serif;
        font-size: 16px;
        font-weight: 500;
        color: #000;
        text-decoration: none;
        border-bottom: 1px solid #000;
        padding-bottom: 2px;
    }

    .separator {
        width: calc(100% - 40px);
        height: 1px;
        background: #000;
        margin: 40px 20px;
    }

    .project-details {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-bottom: 40px;
        padding: 0 20px;
    }

    .detail-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .detail-column {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .detail-label {
        font-family: "Space Grotesk", sans-serif;
        font-size: 14px;
        font-style: italic;
        color: #666;
        margin: 0;
    }

    .detail-value {
        font-family: "Space Grotesk", sans-serif;
        font-size: 16px;
        font-weight: 500;
        color: #000;
        margin: 0;
    }

    .overview-section {
        margin-bottom: 80px;
        padding: 0 20px;
    }

    /* Added styles for markdown content */
    .markdown-content :global(h2) {
        font-family: "Space Grotesk", sans-serif;
        font-size: 24px;
        font-weight: 700;
        margin: 80px 0 40px 0;
        text-align: center;
    }

    .markdown-content :global(p) {
        font-family: "Space Grotesk", sans-serif;
        font-size: 16px;
        line-height: 1.6;
        color: #333;
        margin: 0;
    }

    .design-overview-section {
        background: #101010;
        color: #fff;
        padding: 60px 20px;
        margin: 0;
    }

    .design-heading {
        font-family: "Space Grotesk", sans-serif;
        font-size: 36px;
        font-weight: 700;
        margin-bottom: 60px;
        text-align: center;
    }

    .design-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        max-width: 800px;
        margin: 0 auto;
    }

    .design-grid img {
        width: 100%;
        height: auto;
        border-radius: 8px;
    }

    .more-works-section {
        margin: 60px 0 40px;
        padding: 0 20px;
    }

    .more-heading {
        font-family: "Space Grotesk", sans-serif;
        font-size: 36px;
        font-weight: 700;
        margin-bottom: 40px;
        text-align: center;
    }

    .more-works-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        max-width: 800px;
        margin: 0 auto;
    }

    .more-work-item {
        display: block;
        overflow: hidden;
        border-radius: 8px;
    }

    .more-work-item img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.3s ease;
    }

    .more-work-item:hover img {
        transform: scale(1.05);
    }

    @media (min-width: 768px) {
        .back-button {
            left: 30px;
        }

        .project-title {
            padding: 80px 40px 0 40px;
        }

        .hero-section {
            padding: 0 40px;
        }

        .separator {
            width: calc(100% - 80px);
            margin: 40px 40px;
        }

        .project-details {
            padding: 0 40px;
        }

        .overview-section {
            padding: 0 40px;
        }

        .more-works-section {
            padding: 0 40px;
        }

        .design-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .design-overview-section {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            padding: 60px 40px;
        }
    }
</style>
